<div class="container w-full">
    <ul class="flex justify-between border-b text-xs sm:text-md">
        <li class="-mb-px mr-1">
            <a
                class="bg-white dark:bg-gray-900 inline-block border-l border-t border-r rounded-t pb-2 pt-3 px-4 text-blue-700 font-semibold">전체현황</a>
        </li>
        <li>
            <nz-breadcrumb [nzSeparator]="null" class="inline-block pt-3 pb-2 px-4 font-semibold">
                <nz-breadcrumb-item class="text-gray-400">형식승인 정보조회</nz-breadcrumb-item>
                <nz-breadcrumb-separator class="mx-2 text-gray-400">></nz-breadcrumb-separator>
                <nz-breadcrumb-item class="text-gray-400">접수처리</nz-breadcrumb-item>
                <nz-breadcrumb-separator class="mx-2 text-gray-400">></nz-breadcrumb-separator>
                <nz-breadcrumb-item class="text-blue-700">전체현황</nz-breadcrumb-item>
            </nz-breadcrumb>
        </li>
    </ul>

    <nz-spin [nzSpinning]="isSpinning" nzTip="로딩...">
        <div class="flex flex-col flex-auto bg-white  dark:bg-gray-800 min-h-full pt-2 border-t">
            <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                <p class="text-blue-600">
                    <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                    </mat-icon>형식승인 완료내역
                </p>
                <approval-request [dataPage]="dataMain" class="pt-2"></approval-request>
            </div>

            <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                <p class="text-blue-600">
                    <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                    </mat-icon>업체 정보
                </p>
                <enterprise-view [dataPage]="dataMain" class="pt-2"></enterprise-view>
            </div>

            <ng-container
                *ngIf="dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007002' ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007003'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007004'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007005'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007007'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007008'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007009'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007024'  ||
                                dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007021'; else elseTemplate">
                <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>계량기 정보
                    </p>
                    <gauge-edit [dataPage]="dataMain" class="pt-2"></gauge-edit>
                </div>
            </ng-container>

            <ng-template #elseTemplate>
                <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>계량기 정보
                    </p>
                    <gauge-view [dataPage]="dataMain" class="pt-2"></gauge-view>
                </div>
            </ng-template>

            <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                <p class="text-blue-600">
                    <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                    </mat-icon>기타
                </p>
                <etc-view [dataPage]="dataMain" class="pt-2"></etc-view>
            </div>

            <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                <p class="text-blue-600">
                    <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                    </mat-icon>구비서류
                </p>
                <consent-docview [dataPage]="dataMain" class="pt-2"></consent-docview>
            </div>

            <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.isReIssueExist === false">
                <ng-container
                    *ngIf="dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003001' || dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003002'">
                    <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007002'||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007004' ||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007002'; else elseSample">
                        <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                            <p class="text-blue-600">
                                <mat-icon class="icon-size-4 text-blue-600 mr-1"
                                    svgIcon="heroicons_outline:arrow-circle-right">
                                </mat-icon>시료정보
                            </p>
                            <sample-edit [dataPage]="dataMain" class="pt-2"></sample-edit>
                        </div>
                    </ng-container>

                    <ng-template #elseSample>
                        <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                            <p class="text-blue-600">
                                <mat-icon class="icon-size-4 text-blue-600 mr-1"
                                    svgIcon="heroicons_outline:arrow-circle-right">
                                </mat-icon>시료정보
                            </p>
                            <sample-view [dataPage]="dataMain" class="pt-2"></sample-view>
                        </div>
                    </ng-template>
                </ng-container>
            </ng-container>

            <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.isReIssueExist === false">
                <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003001' || dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003002' || dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003005'">
                    <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007008'||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007009'">
                        <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                            <p class="text-blue-600">
                                 <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                                </mat-icon>시험결과 정보
                            </p>
                            <test-result-edit [dataPage]="dataMain" class="pt-2"></test-result-edit>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007010'||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007012'||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007011'">
                        <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                             <p class="text-blue-600">
                                 <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                                </mat-icon>시험결과 정보
                            </p>
                            <test-result-view [dataPage]="dataMain" class="pt-2"></test-result-view>
                        </div>
                    </ng-container>
                </ng-container>
            </ng-container>

            <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007005'||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007007'||
                                        dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007024'; else elseLaw">
                    <div  class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                        <p class="text-blue-600">
                             <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                            </mat-icon>형식승인 기술기준 및 고시번호
                         </p>
                         <law-edit [dataPage]="dataMain" class="pt-2"></law-edit>
                    </div>

            </ng-container>

            <ng-template #elseLaw>
                <div  class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>형식승인 기술기준 및 고시번호
                    </p>
                    <law-view [dataPage]="dataMain" class="pt-2"></law-view>
                </div>
            </ng-template>

            <ng-container *ngIf="dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003002'||
                dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003004'||
                 dataMain?.formConsentT?.formConsent?.registSeCode === 'AB003005'; else elseInfo">
                 <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>재발급 신청 정보
                    </p>
                    <change-info-edit [dataPage]="dataMain" class="pt-2"></change-info-edit>
                </div>
            </ng-container>

            <ng-template #elseInfo>
                <div class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>재발급 신청 정보
                    </p>
                    <change-info-view [dataPage]="dataMain" class="pt-2"></change-info-view>
                </div>
            </ng-template>

            <ng-container *ngIf="isReIssueExist === true">
                <div  class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>재발급 신청 정보
                    </p>
                    <reissue-view [dataPage]="dataMain" class="pt-2"></reissue-view>
                </div>
            </ng-container>

            <ng-container
            *ngIf="dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007002'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007003'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007004'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007005'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007007'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007008'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007009'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007011'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007024'||
                    dataMain?.formConsentT?.formConsent?.fomConfmProcessSttusCode === 'AB007021'; else elseprocess">
                <div  class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>처리 정보
                    </p>
                    <process-info-edit [dataPage]="dataMain" class="pt-2"></process-info-edit>
                </div>
            </ng-container>

            <ng-template #elseprocess>
                <div  class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                    <p class="text-blue-600">
                        <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                        </mat-icon>처리 정보
                    </p>
                    <process-info-view [dataPage]="dataMain" class="pt-2"></process-info-view>
                </div>
            </ng-template>

            <div  class="flex flex-col flex-nowrap p-2 md:p-4 w-full">
                <p class="text-blue-600">
                    <mat-icon class="icon-size-4 text-blue-600 mr-1" svgIcon="heroicons_outline:arrow-circle-right">
                    </mat-icon>처리내용
                </p>
                <div class="flex flex-nowrap flex-col w-full p-6 border border-solid border-blue-300 mt-2">
                    <mat-form-field class="w-full" appearance="outline">
                        <mat-label>처리내용</mat-label>
                        <textarea class="text-black" [value]="dataMain?.formConsentT?.formConsent?.fomConfmProcessCn" matInput></textarea>
                    </mat-form-field>
                </div>
            </div>

            <div class="grid w-full mb-4 my-2">
                <div class="flex place-self-end">
                    <div class="mr-6 sm:mr-10">
                        <button routerLink="/KTC/FormConsent/FormConsentRequest/status" mat-raised-button
                            color="primary">목록</button>
                    </div>
                </div>
            </div>
        </div>
    </nz-spin>
</div>
