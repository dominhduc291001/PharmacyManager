<div class="container w-full">
    <ul class="flex justify-between border-b text-xs sm:text-md">
        <li class="-mb-px mr-1">
            <a class="bg-white dark:bg-gray-900 inline-block border-l border-t
                border-r rounded-t pb-2 pt-3 px-4 text-blue-700 font-semibold">전체현황</a>
        </li>
        <li>
            <nz-breadcrumb [nzSeparator]="null" class="inline-block pt-3 pb-2
                px-4 font-semibold">
                <nz-breadcrumb-item class="text-gray-400">형식승인 정보조회</nz-breadcrumb-item>
                <nz-breadcrumb-separator class="mx-2 text-gray-400">></nz-breadcrumb-separator>
                <nz-breadcrumb-item class="text-gray-400">완료내역</nz-breadcrumb-item>
                <nz-breadcrumb-separator class="mx-2 text-gray-400">></nz-breadcrumb-separator>
                <nz-breadcrumb-item class="text-blue-700">전체현황</nz-breadcrumb-item>
            </nz-breadcrumb>
        </li>
    </ul>

    <div class="flex flex-col flex-auto bg-white dark:bg-gray-800 min-h-full">
        <div class="dark:bg-gray-900 border border-solid">
            <div class="flex flex-col sm:flex-row px-4">
                <div class="w-full sm:w-1/2 sm:mr-5 md:mr-0">
                    <div class="w-full md:w-2/3 m-auto pb-0 pt-4">
                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">계량기종류</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <nz-select [(ngModel)]="searchRq.mrnrSeCode" class="w-full">
                                    <nz-option [nzValue]='' [nzLabel]=""></nz-option>
                                    <nz-option *ngFor="let item of
                                        selectList?.mrnrSeCodeList" [nzValue]="item?.bsisCode" [nzLabel]="item?.bsisCodeNm"></nz-option>
                                </nz-select>
                            </div>
                        </div>

                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">승인번호</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <input class="w-full" [(ngModel)]="searchRq.fomConfmConfmNo" nz-input />
                            </div>
                        </div>

                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">접수번호</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <input class="w-full" [(ngModel)]="searchRq.fomConfmRceptNo" nz-input />
                            </div>
                        </div>

                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">완료일</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <nz-range-picker class="w-full" [(ngModel)]="lastConfmDe"></nz-range-picker>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- left search -->
                <div class="w-full sm:w-1/2 sm:ml-5 md:ml-0">
                    <div class="w-full md:w-2/3 m-auto pb-0 sm:pt-4 pt-0">
                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">구분</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <nz-select [(ngModel)]="searchRq.registSeCode" class="w-full">
                                    <nz-option [nzValue]='' [nzLabel]=""></nz-option>
                                    <nz-option *ngFor="let item of
                                        selectList?.registSeCodeList" [nzValue]="item?.bsisCode" [nzLabel]="item?.bsisCodeNm"></nz-option>
                                </nz-select>
                            </div>
                        </div>

                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">담당자</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <nz-select [(ngModel)]="searchRq.fomConfmChargerId" class="w-full">
                                    <nz-option [nzValue]='' [nzLabel]=""></nz-option>
                                    <nz-option *ngFor="let item of
                                        selectList?.fomConfmChargerList" [nzValue]="item?.userId" nzLabel="[{{item?.deptNm}}]{{item?.userNm}}">
                                    </nz-option>
                                </nz-select>
                            </div>
                        </div>

                        <div class="flex flex-row justify-start">
                            <h1 class="p-2 w-28 self-center text-sm
                                md:text-base">상호명</h1>
                            <div class="p-2 flex-1 sm:flex-grow">
                                <input class="w-full" [(ngModel)]="searchRq.entrprsNm" nz-input />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="w-full text-right">
                <button class="mb-4 mt-2 sm:mt-1 md:mt-2 mr-6 md:mr-14" (click)="search()" nz-button nzType="primary"><i
                        nz-icon nzType="search"></i>검색</button>
            </div>
        </div>

        <!-- table -->
        <div class="flex flex-col max-w-full mt-6 p-4 flex-nowrap border
            border-solid overflow-x-auto">
            <nz-table class="w-full" nzFrontPagination="false" [nzScroll]="reponsiveTable()" nzSize="small" #basicTable [nzData]="tableData" [nzLoading]="loadingTable">
                <thead>
                    <tr>
                        <th class="bg-gray-100 text-center w-20">No</th>
                        <th class="bg-gray-100 text-center">구분</th>
                        <th class="bg-gray-100 text-center">접수번호</th>
                        <th class="bg-gray-100 text-center">형식승인번호</th>
                        <th class="bg-gray-100 text-center">상호명</th>
                        <th class="bg-gray-100 text-center">계량기종류</th>
                        <th class="bg-gray-100 text-center">담당자</th>
                        <th class="bg-gray-100 text-center">완료일</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    <tr *ngFor="let data of basicTable.data">
                        <td>{{data.rowNumber}}</td>
                        <td>{{data.registSeName}}</td>
                        <td>{{data.fomConfmRceptNo}}</td>
                        <td>{{data.fomConfmConfmNo}}</td>
                        <td>
                            <a class="cursor-pointer" routerLink="../status/detail/{{data.fomConfmSn}}">{{data.entrprsNm}}</a>
                        </td>
                        <td>{{data.mrnrSeName}}</td>
                        <td>{{data.fomConfmChargerNm}}</td>
                        <td>{{data.lastConfmDe}}</td>
                    </tr>
                </tbody>
            </nz-table>

            <div class="pb-3 w-full grid">
                <nz-pagination class="place-self-center sm:mr-14" [(nzPageIndex)]="indexPage" [nzResponsive]="true" [nzTotal]="totalPage" [nzPageSize]="10" (nzPageIndexChange)="pageChange()"></nz-pagination>
            </div>
        </div>
    </div>
</div>